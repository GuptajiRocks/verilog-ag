#! /c/iverilog/bin/vvp
:ivl_version "0.9.7 " "(v0_9_7)";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_011E76F8 .scope module, "vending_machine_tb" "vending_machine_tb" 2 3;
 .timescale -9 -12;
v011EAFB0_0 .net "bill_display", 0 0, v011E3088_0; 1 drivers
v011EB008_0 .net "change", 3 0, v01061EE8_0; 1 drivers
v011EB060_0 .var "clk", 0 0;
v011EB0B8_0 .var "item_select", 1 0;
v011E9AE0_0 .var "money_in", 3 0;
v011E9B38_0 .var "rst", 0 0;
v011E9B90_0 .net "total", 6 0, v011E2B98_0; 1 drivers
S_011E8110 .scope module, "vending_machine" "vending_machine" 2 13, 3 1, S_011E76F8;
 .timescale 0 0;
P_011E363C .param/l "IDLE" 3 17, C4<00>;
P_011E3650 .param/l "ITEM_SELECT" 3 20, C4<11>;
P_011E3664 .param/l "MENU_DISPLAY" 3 18, C4<01>;
P_011E3678 .param/l "MONEY_INSERT" 3 19, C4<10>;
P_011E368C .param/l "PRICE_COKE" 3 12, +C4<011000101010001000>;
P_011E36A0 .param/l "PRICE_SNACKS" 3 14, +C4<011010110110111010>;
P_011E36B4 .param/l "PRICE_WATER" 3 13, +C4<010011101110100>;
v011E3088_0 .var "bill_display", 0 0;
v01061EE8_0 .var "change", 3 0;
v01061F40_0 .net "clk", 0 0, v011EB060_0; 1 drivers
v01062D40_0 .net "item_select", 1 0, v011EB0B8_0; 1 drivers
v01062D98_0 .net "money_in", 3 0, v011E9AE0_0; 1 drivers
v01062DF0_0 .var "next_state", 2 0;
v011E2AE8_0 .net "rst", 0 0, v011E9B38_0; 1 drivers
v011E2B40_0 .var "state", 2 0;
v011E2B98_0 .var "total", 6 0;
E_011E9A08 .event posedge, v01061F40_0;
E_011E9A28 .event edge, v011E2B40_0, v01062D98_0;
    .scope S_011E8110;
T_0 ;
    %wait E_011E9A28;
    %load/v 8, v011E2B40_0, 3;
    %cmpi/u 8, 0, 3;
    %jmp/1 T_0.0, 6;
    %cmpi/u 8, 1, 3;
    %jmp/1 T_0.1, 6;
    %cmpi/u 8, 2, 3;
    %jmp/1 T_0.2, 6;
    %cmpi/u 8, 3, 3;
    %jmp/1 T_0.3, 6;
    %set/v v01062DF0_0, 0, 3;
    %jmp T_0.5;
T_0.0 ;
    %movi 8, 1, 3;
    %set/v v01062DF0_0, 8, 3;
    %jmp T_0.5;
T_0.1 ;
    %load/v 8, v01062D98_0, 4;
    %mov 12, 0, 1;
    %cmpi/u 8, 0, 5;
    %inv 4, 1;
    %jmp/0xz  T_0.6, 4;
    %movi 8, 3, 3;
    %set/v v01062DF0_0, 8, 3;
T_0.6 ;
    %jmp T_0.5;
T_0.2 ;
    %load/v 8, v01062D98_0, 4;
    %mov 12, 0, 1;
    %cmpi/u 8, 0, 5;
    %inv 4, 1;
    %jmp/0xz  T_0.8, 4;
    %movi 8, 3, 3;
    %set/v v01062DF0_0, 8, 3;
T_0.8 ;
    %jmp T_0.5;
T_0.3 ;
    %movi 8, 1, 3;
    %set/v v01062DF0_0, 8, 3;
    %jmp T_0.5;
T_0.5 ;
    %jmp T_0;
    .thread T_0, $push;
    .scope S_011E8110;
T_1 ;
    %wait E_011E9A08;
    %load/v 8, v011E2AE8_0, 1;
    %jmp/0xz  T_1.0, 8;
    %ix/load 0, 3, 0;
    %assign/v0 v011E2B40_0, 0, 0;
    %ix/load 0, 7, 0;
    %assign/v0 v011E2B98_0, 0, 0;
    %ix/load 0, 4, 0;
    %assign/v0 v01061EE8_0, 0, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v011E3088_0, 0, 0;
    %jmp T_1.1;
T_1.0 ;
    %load/v 8, v01062DF0_0, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v011E2B40_0, 0, 8;
    %load/v 8, v011E2B40_0, 3;
    %cmpi/u 8, 0, 3;
    %jmp/1 T_1.2, 6;
    %cmpi/u 8, 1, 3;
    %jmp/1 T_1.3, 6;
    %ix/load 0, 3, 0;
    %assign/v0 v011E2B40_0, 0, 0;
    %jmp T_1.5;
T_1.2 ;
    %ix/load 0, 7, 0;
    %assign/v0 v011E2B98_0, 0, 0;
    %ix/load 0, 4, 0;
    %assign/v0 v01061EE8_0, 0, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v011E3088_0, 0, 0;
    %jmp T_1.5;
T_1.3 ;
    %load/v 8, v01062D98_0, 4;
    %mov 12, 0, 3;
    %ix/load 0, 7, 0;
    %assign/v0 v011E2B98_0, 0, 8;
    %load/v 8, v01062D40_0, 2;
    %cmpi/u 8, 1, 2;
    %jmp/1 T_1.6, 6;
    %cmpi/u 8, 2, 2;
    %jmp/1 T_1.7, 6;
    %cmpi/u 8, 3, 2;
    %jmp/1 T_1.8, 6;
    %vpi_call 3 60 "$display", " ";
    %jmp T_1.10;
T_1.6 ;
    %load/v 8, v01062D98_0, 4;
    %mov 12, 0, 28;
    %subi 8, 101000, 32;
    %ix/load 0, 4, 0;
    %assign/v0 v01061EE8_0, 0, 8;
    %jmp T_1.10;
T_1.7 ;
    %load/v 8, v01062D98_0, 4;
    %mov 12, 0, 28;
    %subi 8, 10100, 32;
    %ix/load 0, 4, 0;
    %assign/v0 v01061EE8_0, 0, 8;
    %jmp T_1.10;
T_1.8 ;
    %load/v 8, v01062D98_0, 4;
    %mov 12, 0, 28;
    %subi 8, 110010, 32;
    %ix/load 0, 4, 0;
    %assign/v0 v01061EE8_0, 0, 8;
    %jmp T_1.10;
T_1.10 ;
    %ix/load 0, 1, 0;
    %assign/v0 v011E3088_0, 0, 1;
    %jmp T_1.5;
T_1.5 ;
T_1.1 ;
    %jmp T_1;
    .thread T_1;
    .scope S_011E76F8;
T_2 ;
    %delay 5000, 0;
    %load/v 8, v011EB060_0, 1;
    %inv 8, 1;
    %set/v v011EB060_0, 8, 1;
    %jmp T_2;
    .thread T_2;
    .scope S_011E76F8;
T_3 ;
    %set/v v011EB060_0, 0, 1;
    %set/v v011E9B38_0, 1, 1;
    %set/v v011E9AE0_0, 0, 4;
    %set/v v011EB0B8_0, 0, 2;
    %delay 10000, 0;
    %set/v v011E9B38_0, 0, 1;
    %delay 20000, 0;
    %vpi_call 2 37 "$display", "Vending Machine Menu:";
    %vpi_call 2 38 "$display", "1. Coke - Rs.40";
    %vpi_call 2 39 "$display", "2. Water - Rs.20";
    %vpi_call 2 40 "$display", "3. Snacks - Rs.50";
    %vpi_call 2 42 "$display", "Insert money (in Rupees):";
    %movi 8, 4, 4;
    %set/v v011E9AE0_0, 8, 4;
    %vpi_call 2 46 "$display", "Rs. %d", v011E9AE0_0;
    %vpi_call 2 48 "$display", "Select item (1-3):";
    %delay 10000, 0;
    %set/v v011EB0B8_0, 1, 2;
    %delay 10000, 0;
    %vpi_call 2 54 "$display", "Total: Rs.%d, Change: Rs.%d", v011E9B90_0, v011EB008_0;
    %load/v 8, v011EAFB0_0, 1;
    %jmp/0xz  T_3.0, 8;
    %load/v 8, v011EB0B8_0, 2;
    %cmpi/u 8, 1, 2;
    %jmp/1 T_3.2, 6;
    %cmpi/u 8, 2, 2;
    %jmp/1 T_3.3, 6;
    %cmpi/u 8, 3, 2;
    %jmp/1 T_3.4, 6;
    %vpi_call 2 61 "$display", " ";
    %jmp T_3.6;
T_3.2 ;
    %vpi_call 2 58 "$display", "Bill: Coke - Rs.40";
    %jmp T_3.6;
T_3.3 ;
    %vpi_call 2 59 "$display", "Bill: Water - Rs.20";
    %jmp T_3.6;
T_3.4 ;
    %vpi_call 2 60 "$display", "Bill: Snacks - Rs.50";
    %jmp T_3.6;
T_3.6 ;
    %jmp T_3.1;
T_3.0 ;
    %vpi_call 2 64 "$display", "No item bought.";
T_3.1 ;
    %delay 100000, 0;
    %vpi_call 2 66 "$finish";
    %end;
    .thread T_3;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "vending_machine_tb.v";
    "vending_machine.v";
